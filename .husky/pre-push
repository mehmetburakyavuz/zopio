#!/usr/bin/env sh

echo "🚀 Running pre-push checks..."
echo "ℹ️  This hook ensures code quality before pushing to remote"

# Run tests and build
echo "🧪 Running tests..."
echo "   - Verifying that all tests pass before pushing"
pnpm test && {
  echo "   ✓ All tests passed successfully"
} || {
  echo "❌ Tests failed"
  echo "   Please fix failing tests before pushing"
  exit 1
}

#echo "💪 Building project..." (temporary disabled)
#echo "   - Ensuring the project builds correctly"
#pnpm build && {
#  echo "   ✓ Build completed successfully"
#} || {
#  echo "❌ Build failed"
#  echo "   Please fix build errors before pushing"
#  exit 1
#}

echo "✅ All pre-push checks passed!"
echo "   Your code is ready to be pushed to the remote repository"
