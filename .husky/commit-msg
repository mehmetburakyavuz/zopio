#!/usr/bin/env sh

echo "📝 Validating commit message format..."

# Show commit message guidelines
echo "ℹ️  Commit message should follow the format: type(scope): subject"
echo "   Examples: feat(auth): add login functionality"
echo "             fix(api): resolve data fetching issue"
echo "   Valid types: build|chore|ci|docs|feat|fix|perf|refactor|revert|style|test"

# Enforce conventional commit messages
pnpm commitlint --edit "$1" && {
  echo "✅ Commit message format is valid!"
} || {
  echo "❌ Invalid commit message format."
  echo "   Please follow the conventional commit format."
  exit 1
}
